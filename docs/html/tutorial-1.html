<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
 <meta name="GENERATOR" content="SGML-Tools 1.0.9">
 <title>Writing Programs Using newt: Introduction</title>
 <link href="tutorial-2.html" rel="next">

 <link href="tutorial.html#toc1" rel="contents">
</head>
<body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="/static/js/timestamp.js?v=1492440594.0" charset="utf-8"></script>
<script type="text/javascript" src="/static/js/graph-calc.js?v=1492440594.0" charset="utf-8"></script>
<script type="text/javascript" src="/static/js/auto-complete.js?v=1492440594.0" charset="utf-8"></script>
<script type="text/javascript" src="/static/js/toolbar.js?v=1492440594.0" charset="utf-8"></script>

<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  min-width:800px !important;
}
.wb-autocomplete-suggestions {
    text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: #fff; box-shadow: -1px 1px 3px rgba(0,0,0,.1);
    position: absolute; display: none; z-index: 2147483647; max-height: 254px; overflow: hidden; overflow-y: auto; box-sizing: border-box;
}
.wb-autocomplete-suggestion { position: relative; padding: 0 .6em; line-height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.02em; color: #333; }
.wb-autocomplete-suggestion b { font-weight: bold; }
.wb-autocomplete-suggestion.selected { background: #f0f0f0; }
</style>
<div id="wm-ipp" lang="en" style="display:none;direction:ltr;">
<div style="position:fixed;left:0;top:0;width:100%!important">
<div id="wm-ipp-inside">
  <table style="width:100%;">
    <tbody>
      <tr>
	<td id="wm-logo">
	  <a href="/web/" title="Wayback Machine home page"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0" /></a>
	</td>
	<td class="c">
	  <table style="margin:0 auto;">
	    <tbody>
	      <tr>
		<td class="u" colspan="2">
		  <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://gnewt.sourceforge.net:80/tutorial-1.html" style="width:400px;" onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20160428054111" /><input type="submit" value="Go" /></form>
		</td>
		<td class="n" rowspan="2">
		  <table>
		    <tbody>
		      <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		      <tr class="m">
			<td class="b" nowrap="nowrap"><a href="http://web.archive.org/web/20160325120006/http://gnewt.sourceforge.net:80/tutorial-1.html" title="25 Mar 2016"><strong>Mar</strong></a></td>
			<td class="c" id="displayMonthEl" title="You are here: 05:41:11 Apr 28, 2016">APR</td>
			<td class="f" nowrap="nowrap"><a href="http://web.archive.org/web/20160530065545/http://gnewt.sourceforge.net:80/tutorial-1.html" title="30 May 2016"><strong>May</strong></a></td>
		      </tr>
		      <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		      <tr class="d">
			<td class="b" nowrap="nowrap"><a href="http://web.archive.org/web/20160325120006/http://gnewt.sourceforge.net:80/tutorial-1.html" title="12:00:06 Mar 25, 2016"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a></td>
			<td class="c" id="displayDayEl" style="width:34px;font-size:24px;" title="You are here: 05:41:11 Apr 28, 2016">28</td>
			<td class="f" nowrap="nowrap"><a href="http://web.archive.org/web/20160530065545/http://gnewt.sourceforge.net:80/tutorial-1.html" title="06:55:45 May 30, 2016"><img src="/static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0" /></a></td>
		      </tr>
		      <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		      <tr class="y">
			<td class="b" nowrap="nowrap"><a href="http://web.archive.org/web/20131219224212/http://gnewt.sourceforge.net/tutorial-1.html" title="19 Dec 2013"><strong>2013</strong></a></td>
			<td class="c" id="displayYearEl" title="You are here: 05:41:11 Apr 28, 2016">2016</td>
			<td class="f" nowrap="nowrap">2017</td>
		      </tr>
		    </tbody>
		  </table>
		</td>
	      </tr>
	      <tr>
		<td class="s">
		  		  <div id="wm-nav-captures">
		    		    <a class="t" href="/web/20160428054111*/http://gnewt.sourceforge.net:80/tutorial-1.html" title="See a list of every capture for this URL">16 captures</a>
		    <div class="r" title="Timespan for captures of this URL">06 May 2001 - 30 Sep 2016</div>
		    </div>
		</td>
		<td class="k">
		  <a href="" id="wm-graph-anchor">
		    <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		      <canvas id="wm-sparkline-canvas" width="550" height="27" border="0"></canvas>
		    </div>
		  </a>
		</td>
	      </tr>
	    </tbody>
	  </table>
	</td>
	<td class="r">
	  <a href="#" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=http://web.archive.org/web/20160428054111/http://gnewt.sourceforge.net:80/tutorial-1.html', '', 'height=400,width=600'); return false;" title="Share on Facebook" style="top: 4px; right: 16px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	  <a href="#" onclick="window.open('https://twitter.com/intent/tweet?text=http://web.archive.org/web/20160428054111/http://gnewt.sourceforge.net:80/tutorial-1.html&amp;via=internetarchive', '', 'height=400,width=600'); return false;" title="Share on Twitter" style="bottom:14px;right:16px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
	  <a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="bottom:14px;right:5px;padding-right:0;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	  <a href="#close" onclick="__wm.h(event);return false;" style="top:-2px;right:0;padding-right:0;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
	  <a id="wm-expand" class="wm-btn" href="#expand" onclick="__wm.ex(event);return false;"><span class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
	</td>
      </tr>
    </tbody>
  </table>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none;">
            <div style="background-color:#353535;color:#aaa;font-weight:bold;text-align:center;"><a class="wm-selector selected" href="javascript:void(0)">COLLECTED BY</a></div>
    <div style="padding:3px;position:relative;">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
    </div></div></div></div></div><script type="text/javascript">
__wm.bt(550,27,25,2,"web","http://gnewt.sourceforge.net:80/tutorial-1.html","2016-04-28",1996);
</script>
<!-- END WAYBACK TOOLBAR INSERT -->
<a href="tutorial-2.html">Next</a>
Previous
<a href="tutorial.html#toc1">Contents</a>
<hr>
<a href="http://web.archive.org/web/20160428054111/ftp://ftp.redhat.com/pub/redhat/code/newt">ftp.redhat.com</a>.
<h2></h2>

<h2><a name="ss1.1">1.1 Background</a>
</h2>

<p><code>Newt</code> was originally designed for use in the install code for
Red Hat Linux. As this install code runs in an environment with limited
resources (most importantly limited filesystem space), <code>newt</code>'s size
was immediately an issue. To help minimize its size, the following design
decisions were made early in it's implementation:
<p>
<ul>
<li> <code>newt</code> does not use an event-driven architecture.</li>
<li> <code>newt</code> is written in C, not C++. While there has been interest
in contructing C++ wrapper classes around the <code>newt</code> API, nothing has
yet come of those ideas.</li>
<li> Windows must be created and destroyed as a stack (in other words, all
<code>newt</code> windows behave as modal dialogs). This is probably
the greatest functionality restriction of <code>newt</code>.</li>
<li> The tty keyboard is the only supported input device.</li>
<li> Many behaviours, such as widget traversal order, are difficult
or impossible to change.</li>
</ul>
<p>
<p>While <code>newt</code> provides a complete API, it does not handle the low-level
screen drawing itself. Instead, <code>newt</code> is layered on top of the screen
management capabilities of John E. Davis's 
<a href="http://web.archive.org/web/20160428054111/ftp://space.mit.edu/pub/davis/slang/">S-Lang</a> library.
<p>
<h2><a name="ss1.2">1.2 Designing <code>newt</code> applications</a>
</h2>

<p>As <code>newt</code> is not event driven and forces modal windows (forcing window
order to behave like a stack), newt applications tend to look quite like
other text-mode programs. It is quite straightforward to convert a command
line program which uses simple user prompts into a <code>newt</code> application.
Some of the programs run as part of the Red Hat installation process
(such as <code>Xconfigurator</code> and <code>mouseconfig</code>) were originally written
as simple terminal mode programs which used line-oriented menus to get
input from the user and were later converted into <code>newt</code> applications
(through a process affectionately known as newtering). Such a conversion
does not require changes to the control flow of most applications.
<p>Programming <code>newt</code> is dramatically different from writing programs for
most other windowing systems as <code>newt</code>'s API is not event driven. This
means that <code>newt</code> applications look dramatically different from programs
written for event-driven architectures such as Motif, <code>gtk</code>, or even
Borland's old TurboVision libraries.
<p>When your're desiging your <code>newt</code> program, keep this differentiation
in mind. As long as you plan your application to call a function to
get input and then continue (rather then having your program called
when input is ready), programming with the newt libraries should be
simple.
<p>
<h2><a name="ss1.3">1.3 Components</a>
</h2>

<p>Displayable items in <code>newt</code> are known as <b>components</b>, which are
analagous to the widgets provided by most Unix widget sets. There are
two main types of components in <code>newt</code>, forms and everything else.
Forms logically group components into functional sets. When an application
is ready to get input frm a user, it ``runs a form'', which makes the
form active and lets the user enter information into the components the
form contains. A form may contain any other component, including other
forms. Using subforms in this manner lets the application change the details
of how the user tabs between components on the form, scroll regions of the
screen, and control background colors for portions of windows.
<p>Every component is of type <code>newtComponent</code>, which is an opaque type. It's
guaranteed to be a pointer though, which lets applications move it through
void pointers if the need arises. Variables of type <code>newtComponent</code> should
never be directly manipulated -- they should only be passed to <code>newt</code>
functions. As <code>newtComponent</code> variables are pointers, remember that
they are always passed by value -- if you pass a <code>newtComponent</code> to
a function which manipulates it, that component is manipulated everywhere,
not just inside of that function (which is nearly always the behaviour
you want).
<p>
<h2><a name="ss1.4">1.4 Conventions</a>
</h2>

<p><code>Newt</code> uses a number of conventions to make it easier for programmers
to use. 
<p>
<ul>
<li> All functions which manipulate data structures take the data
structure being modified as their first parameter. For example, all
of the functions which manipulate forms expect the <code>newtComponent</code>
for that form to be the first parameter.</li>
<li> As <code>newt</code> is loosely typed (forcing all of the components into
a single variable makes coding easier, but nullifies the value of type
checking), <code>newt</code> functions include the name of the type they are
manipulating. An example of this is <code>newtFormAddComponent()</code>, which
adds a component to a form. Note that the first parameter to this function
is a form, as the name would suggest.</li>
<li> When screen coordinates are passed into a function, the y value
preceeds the x location preceeds the y location. To help keep this clear,
we'll use the words ``left'' and ``top'' to describe those indicators (which
left corresponding to the x position).</li>
<li> When box sizes are passed, the horizonal width preceeds the vertical
width.</li>
<li> When both a screen location and a box size are being passed, the
screen location preceeds the box size.</li>
<li> When any component other then a form is created, the first two
parameters are always the (left, right) location.</li>
<li> Many functions take a set of flags as the final parameter. These
flags may be logically ORed together to pass more then one flag at a time.</li>
<li> <code>Newt</code> uses <b>callback</b> functions to convey certain events to
the application. While callbacks differe slightly in their parameters, most
of them allow the application to speicfy an arbitrary argument to be passed
to the callback when the callback is invoked. This argument is always a 
<code>void *</code>, which allows the application great flexibility.</li>
</ul>
<p>
<hr>
<a href="tutorial-2.html">Next</a>
Previous
<a href="tutorial.html#toc1">Contents</a>
</body>
</html>
